import{b as L,c as k,d as V,e as N,f as T,g as z,k as A,m as D}from"./chunk-WBXUJ3X3.js";import{B as u,C as M,G as l,K as g,L as t,M as n,N as w,O as P,P as y,Q as O,R as f,T as i,V as _,Y as x,Z as b,_ as C,ia as S,ka as v,o as p,oa as E,p as m,wa as I,y as a}from"./chunk-NZYDAHZG.js";function q(o,r){o&1&&(t(0,"span",16),i(1," Username is required "),n())}function F(o,r){o&1&&(t(0,"span",17),i(1," Password is required "),n())}function j(o,r){if(o&1&&(t(0,"div",18),i(1),n()),o&2){let s=O();a(),_(" ",s.errorMessage," ")}}function R(o,r){o&1&&w(0,"span",19)}var W=class o{constructor(r,s){this.authService=r;this.router=s}username="";password="";loading=!1;errorMessage="";submitted=!1;onSubmit(){this.submitted=!0,this.errorMessage="",!(!this.username||!this.password)&&(this.loading=!0,this.authService.login(this.username,this.password).subscribe({next:r=>{this.authService.setCurrentUser(r),this.router.navigate(["/dashboard"])},error:r=>{this.errorMessage=r.message||"An error occurred during login",this.loading=!1}}))}static \u0275fac=function(s){return new(s||o)(u(I),u(E))};static \u0275cmp=M({type:o,selectors:[["app-login"]],decls:35,vars:12,consts:[["loginForm","ngForm"],["data-testid","login-page",1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","name","username","required","","data-testid","login-username","placeholder","Enter your username",3,"ngModelChange","ngModel"],["class","error-message","data-testid","username-error",4,"ngIf"],["for","password"],["type","password","id","password","name","password","required","","data-testid","login-password","placeholder","Enter your password",3,"ngModelChange","ngModel"],["class","error-message","data-testid","password-error",4,"ngIf"],["class","error-banner","data-testid","login-error",4,"ngIf"],["type","submit","data-testid","login-submit",1,"login-button",3,"disabled"],["class","spinner",4,"ngIf"],[1,"login-hint"],["data-testid","username-error",1,"error-message"],["data-testid","password-error",1,"error-message"],["data-testid","login-error",1,"error-banner"],[1,"spinner"]],template:function(s,e){if(s&1){let c=P();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1"),i(4,"Support Ticket Desk"),n(),t(5,"p"),i(6,"Sign in to your account"),n()(),t(7,"form",4,0),y("ngSubmit",function(){return p(c),m(e.onSubmit())}),t(9,"div",5)(10,"label",6),i(11,"Username"),n(),t(12,"input",7),C("ngModelChange",function(d){return p(c),b(e.username,d)||(e.username=d),m(d)}),n(),l(13,q,2,0,"span",8),n(),t(14,"div",5)(15,"label",9),i(16,"Password"),n(),t(17,"input",10),C("ngModelChange",function(d){return p(c),b(e.password,d)||(e.password=d),m(d)}),n(),l(18,F,2,0,"span",11),n(),l(19,j,2,1,"div",12),t(20,"button",13),l(21,R,1,0,"span",14),i(22),n()(),t(23,"div",15)(24,"p"),i(25,"Demo credentials:"),n(),t(26,"ul")(27,"li")(28,"strong"),i(29,"Admin:"),n(),i(30," admin / admin123"),n(),t(31,"li")(32,"strong"),i(33,"Agent:"),n(),i(34," agent / agent123"),n()()()()()}s&2&&(a(12),f("error",e.submitted&&!e.username),x("ngModel",e.username),a(),g("ngIf",e.submitted&&!e.username),a(4),f("error",e.submitted&&!e.password),x("ngModel",e.password),a(),g("ngIf",e.submitted&&!e.password),a(),g("ngIf",e.errorMessage),a(),g("disabled",e.loading),a(),g("ngIf",e.loading),a(),_(" ",e.loading?"Signing in...":"Sign In"," "))},dependencies:[v,S,D,z,L,k,V,A,T,N],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460);padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;box-shadow:0 20px 60px #0000004d;width:100%;max-width:420px;padding:40px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Playfair Display,Georgia,serif;font-size:28px;color:#1a1a2e;margin:0 0 8px;font-weight:700}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0;font-size:15px}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;font-size:14px;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:14px 16px;border:2px solid #e0e0e0;border-radius:8px;font-size:15px;transition:all .2s ease;background:#fafafa}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0f3460;background:#fff;box-shadow:0 0 0 3px #0f34601a}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#e74c3c;background:#fdf2f2}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:13px;font-weight:500}.error-banner[_ngcontent-%COMP%]{background:#fdf2f2;border:1px solid #f5c6cb;color:#c0392b;padding:12px 16px;border-radius:8px;font-size:14px;text-align:center}.login-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0f3460,#16213e);color:#fff;border:none;padding:16px;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:8px}.login-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #0f34604d}.login-button[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:18px;height:18px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.login-hint[_ngcontent-%COMP%]{margin-top:28px;padding-top:20px;border-top:1px solid #eee;font-size:13px;color:#666}.login-hint[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:600;color:#444}.login-hint[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.login-hint[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:4px 0}.login-hint[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333}"]})};export{W as LoginComponent};
